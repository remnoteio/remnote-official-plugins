:root {
    --mermaid-border: #ddd;
    --mermaid-border-dark: #535353;
    --mermaid-block: #f7f6f3;
    --mermaid-block-dark: #2b2b33;
    --mermaid-input: #f7f6f3;
    --mermaid-input-dark: #2b2b33;
}

@mixin Mermaid(
    $mermaid-border, 
    $mermaid-block, 
    $mermaid-input
) {
    [data-rem-container-tags~="mermaid"] {
        border: 1px solid $mermaid-border;
        border-radius: 4px;
        padding: 0.5rem;
        margin-top: 0.5rem;
        margin-bottom: 0.5rem;
        margin-left: 1.6rem;
        [data-rem-tags~="mermaid"] {
            background-color: $mermaid-input;
            > .rn-editor__rem__body__text,
            > div > .rn-editor__rem__body__text {
                min-height: 2rem;
            }
            .rem-button__container {
                left: -5.2rem;
            }
            .hierarchy-editor__tag-bar__tag {
                display: none;
            }
            #code-node {
                background-color: $mermaid-block;
            }
            &:not(rem-container--focused) {
                #code-node {
                    display: none;
                }
            }
            &.rem-container--focused {
                #code-node {
                    display: block;
                }
            }
        }
    }
    [data-document-tags~="mermaid"] {
        .rn-doc-title {
            #code-node {
                font-size: 1rem;
            }
        }
        [data-rem-container-tags~="mermaid"] {
            > div {
                > div:first-child {
                    display: none;
                }
            }
        }
    }
}
@include Mermaid(
    var(--mermaid-border), 
    var(--mermaid-block), 
    var(--mermaid-input)
);
.dark {
    @include Mermaid(
        var(--mermaid-border-dark), 
        var(--mermaid-block-dark), 
        var(--mermaid-input-dark)
    );
}